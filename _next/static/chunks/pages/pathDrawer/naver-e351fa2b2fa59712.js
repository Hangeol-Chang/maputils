(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[462],{6023:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pathDrawer/naver",function(){return a(8376)}])},8376:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(5893),s=a(7294),n=a(4480),r=a(9052),i=a(9604),o=a(8635),c=a(350),p=a(6655),h=a(436);function u(e){let{idf:t,option:a,navermaps:r}=e,[i,c]=(0,s.useState)([]),[p,u]=(0,s.useState)([]);return(0,n.sJ)(o.Ep),(0,s.useEffect)(()=>{if(console.log(a),0==i.length&&0!=a.path.length){let e=[];a.path.map(t=>{e.push(new r.LatLng(t.lat,t.lng))}),c(e)}if(0==p.length&&0!=a.arrows.length){let t=a.arrows,l=[];t.map(e=>{let t=[];e.map(e=>{t.push(new r.LatLng(e.lat,e.lng))}),l.push(t)}),u(l)}},[a]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.aH,{path:i,strokeColor:a.lineOption.strokeColor,strokeWeight:a.lineOption.strokeWeight,strokeOpacity:a.lineOption.strokeOpacity,visible:a.lineOption.visible}),i.map((e,t)=>{h.Cd,a.circleOption.radius,a.circleOption.fillColor,a.circleOption.fillOpacity}),p.map(e=>{h.aH,a.arrowOption.strokeColor,a.arrowOption.strokeWeight,a.arrowOption.strokeOpacity})]})}function g(e){let{navermaps:t}=e,a=(0,n.sJ)(o.SV),r=(0,n.sJ)(o.v4),[i,c]=(0,s.useState)([]),[p,u]=(0,s.useState)([]),g={strokeOpacity:.8,strokeWeight:1.5,clickable:!1,draggable:!1,editable:!1,visible:!0,zIndex:1,strokeColor:"#0000FF",red:0,green:0,blue:255},f={strokeOpacity:0,fillOpacity:.4,clickable:!1,draggable:!1,editable:!1,visible:!0,radius:1,zIndex:1,fillColor:"#FF0000",red:255,green:0,blue:0};return(0,s.useEffect)(()=>{if(0!=a.length){let e=[];a.map(a=>{e.push(new t.LatLng(a.lat,a.lng))}),c(e)}else c([new t.LatLng(34.44,127.89)])},[a]),(0,s.useEffect)(()=>{if(0!=r.length){let e=[];r.map(a=>{let l=[];a.map(e=>{l.push(new t.LatLng(e.lat,e.lng))}),e.push(l)}),u(e)}},[r]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.aH,{path:i,strokeColor:g.strokeColor,strokeWeight:g.strokeWeight,strokeOpacity:g.strokeOpacity}),i.map(e=>{h.Cd,f.fillColor,f.fillOpacity})]})}function f(){let e=(0,h.UL)(),[t,a]=(0,s.useState)(e.MapTypeId.NORMAL),[r,i]=(0,s.useState)(null),[c,f]=(0,n.FV)(o.SV),[d,m]=(0,n.FV)(o.v4),M=function(e){t!=e&&a(e)},x=(0,n.sJ)(o.mK),k=(0,s.useRef)(null),y=(0,n.sJ)(o.jM),w=(0,n.sJ)(o.Ep),I=(0,n.sJ)(o.GF),b=(0,n.sJ)(o.di);(0,s.useEffect)(()=>{r&&r.setCenter(x)},[x]);let v=function(e){let t=e.length,a=[];for(let l=1;l<t;l++){let s=e[l].lat*Math.PI/180,n=e[l-1].lat*Math.PI/180,r=e[l].lng*Math.PI/180,i=e[l-1].lng*Math.PI/180,o=Math.cos(n)*Math.sin(i-r),c=Math.cos(s)*Math.sin(n)-Math.sin(s)*Math.cos(n)*Math.cos(i-r),p=Math.atan2(c,o),h=35*Math.PI/180,u=p+h,g=p-h,f=e[l].lat,d=e[l].lng,m=[{lat:f+1e-5*Math.sin(u),lng:d+1e-5*Math.cos(u)},{lat:f,lng:d},{lat:f+1e-5*Math.sin(g),lng:d+1e-5*Math.cos(g)}];a.push(m)}return a};(0,s.useEffect)(()=>{m(v(c))},[c]);let O=function(e){let t=[...c];t.push({lat:e.coord._lat,lng:e.coord._lng}),f(t)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(h.EL,{mapTypeId:t,defaultCenter:new e.LatLng(x.lat,x.lng),ref:i,children:[(0,l.jsx)(h.YZ,{type:"rightclick",listener:e=>O(e)}),y.map((t,a)=>t==w?(0,l.jsx)(u,{idf:w,navermaps:e,option:b},t):(0,l.jsx)(u,{idf:t,navermaps:e,option:I[t]},t)),(0,l.jsx)(g,{navermaps:e,oripath:[],oriArrowPath:[]})]}),(0,l.jsx)("div",{ref:k,style:{width:"100%",height:"100%"}}),(0,l.jsxs)("div",{className:"flex absolute top-4 left-4",children:[(0,l.jsx)(p.Z,{className:"text-sm",color:t==e.MapTypeId.NORMAL?"primary":"primary_outline",clickEvent:()=>M(e.MapTypeId.NORMAL),value:"일반"}),(0,l.jsx)(p.Z,{className:"text-sm",color:t==e.MapTypeId.TERRAIN?"primary":"primary_outline",clickEvent:()=>M(e.MapTypeId.TERRAIN),value:"지형도"}),(0,l.jsx)(p.Z,{className:"text-sm",color:t==e.MapTypeId.SATELLITE?"primary":"primary_outline",clickEvent:()=>M(e.MapTypeId.SATELLITE),value:"위성"}),(0,l.jsx)(p.Z,{className:"text-sm",color:t==e.MapTypeId.HYBRID?"primary":"primary_outline",clickEvent:()=>M(e.MapTypeId.HYBRID),value:"혼합"})]})]})}var d=a(1163);function m(){let[e,t]=(0,s.useState)({}),a=(0,d.useRouter)(),u=(0,n.sJ)(c.P),[g,m]=(0,s.useState)("google"),M=(0,n.sJ)(o.c0),[x,k]=(0,s.useState)({strokeOpacity:0,fillOpacity:.4,clickable:!1,draggable:!1,editable:!1,visible:!0,radius:.8,zIndex:1,fillColor:"#00FF00"}),y=(0,n.sJ)(o.iR),[w,I]=(0,n.FV)(o.Y1),[b,v]=(0,n.FV)(o.jM),[O,j]=(0,n.FV)(o.GF),E=(0,n.sJ)(o.Kg),[N,L]=(0,n.FV)(o.kD),[F,C]=(0,n.FV)(o.Ep),[_,T]=(0,n.FV)(o.Nk),[S,P]=(0,n.FV)(o.di),[A,J]=(0,n.FV)(o.mK),[R,V]=(0,s.useState)(15),[Z,W]=(0,s.useState)(!1),[D,H]=(0,s.useState)(!1),z=function(e){let t=e.length,a=[];for(let l=1;l<t;l++){let s=e[l].lat*Math.PI/180,n=e[l-1].lat*Math.PI/180,r=e[l].lng*Math.PI/180,i=e[l-1].lng*Math.PI/180,o=Math.cos(n)*Math.sin(i-r),c=Math.cos(s)*Math.sin(n)-Math.sin(s)*Math.cos(n)*Math.cos(i-r);console.log(o,c);let p=Math.atan2(c,o),h=35*Math.PI/180,u=p+h,g=p-h,f=e[l].lat,d=e[l].lng,m=[{lat:f+1e-5*Math.sin(u),lng:d+1e-5*Math.cos(u)},{lat:f,lng:d},{lat:f+1e-5*Math.sin(g),lng:d+1e-5*Math.cos(g)}];a.push(m)}return a},Y=function(e){let t=e.replaceAll("["," ").replaceAll("]"," ").replaceAll("	"," ").replaceAll("\n"," ").replaceAll(","," ").replace(/^\s+|\s+$/g,"").replace(/ +/g," ").replaceAll(" ",","),a=t.split(",").map(Number),l=2*parseInt(a.length),s=[],n=0,r=1;Z&&(n=1,r=0);for(let i=0;i<l;i+=2){let o=a[i+n],c=a[i+r];if(D&&(o=parseInt(o/100)+o%100/60,c=parseInt(c/100)+c%100/60),!(1>Math.abs(o)||1>Math.abs(c))){if(!o||!c)break;s.push({lat:o,lng:c})}}return console.log(s),s};return(0,l.jsxs)("div",{className:"flex mx-2 gap-2",children:[(0,l.jsx)("div",{className:"bg-red-100 w-full h-screen",children:(0,l.jsx)(h.r9,{ncpClientId:"an7y5ntcz5",children:(0,l.jsx)(h.W2,{style:{width:"100%",height:"100%"},children:(0,l.jsx)(f,{})})})}),(0,l.jsx)(p.Z,{className:"absolute left-2 top-2",color:"primary_outline",clickEvent:()=>a.push("".concat(u,"/pathDrawer")),value:"google"}),(0,l.jsx)(p.Z,{className:"absolute left-2 top-8",color:"primary",clickEvent:()=>a.push("".concat(u,"/pathDrawer/naver")),value:"naver"}),(0,l.jsxs)("div",{className:" absolute top-32 left-4 flex flex-col gap-2 basis-1/5 max-w-[260px] min-w-[230px] bg-white p-2 rounded shadow-md",children:[(0,l.jsx)(r.Z,{className:"bg-gray-100 p-2 h-50 rounded",lngfirst:Z,setLngfirst:W,drawPath:function(e){let t={...E};e&&(t.path=Y(e),t.arrows=z(t.path),t.label=_||N,j({...O,[F]:S,[N]:t}),v([...b,N]),C(N),P(t),L(N+1),t.path&&J({lat:t.path[0].lat,lng:t.path[0].lng}))},focusOption:x,setFocusOption:k}),(0,l.jsx)(i.Z,{className:"rounded max-h-full bg-white",idfs:b,nowIdf:F,nowOption:S,setNowOption:P,delLine:function(){if(b.length>1){F!=b[0]&&C(b[0]),P(O[b[0]]);let e={...O};delete e[F],j(e),v(b.filter(e=>e!=F))}else C(-1),P({...M,path:[],arrows:[]}),v([]),j({})},focusCoordi:function(e,t){y&&(J({lat:e,lng:t}),I({lat:e,lng:t}))},clickCoordi:function(e,t){},changeNow:function(e){e!=F&&(j({...O,[F]:S}),C(e),P(O[e]))}})]})]})}}},function(e){e.O(0,[436,810,774,888,179],function(){return e(e.s=6023)}),_N_E=e.O()}]);