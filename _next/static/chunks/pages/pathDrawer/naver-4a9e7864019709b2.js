(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[462],{6023:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pathDrawer/naver",function(){return l(4836)}])},4836:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return g}});var a=l(5893),s=l(7294),n=l(4480),i=l(9052),r=l(8009),o=l(8635),c=l(350),p=l(6655),u=l(436);function h(e){let{idf:t,option:l,navermaps:n}=e,[i,r]=(0,s.useState)([]),[o,c]=(0,s.useState)([]);return(0,s.useEffect)(()=>{if(0==i.length&&0!=l.path.length){let e=[];l.path.map(t=>{e.push(new n.LatLng(t.lat,t.lng))}),r(e)}if(0==o.length&&0!=l.arrows.length){let t=l.arrows,a=[];t.map(e=>{let t=[];e.map(e=>{t.push(new n.LatLng(e.lat,e.lng))}),a.push(t)}),c(a),console.log(a)}console.log(l.circleOption.visible)},[l]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.aH,{path:i,strokeColor:l.lineOption.strokeColor,strokeWeight:l.lineOption.strokeWeight,strokeOpacity:l.lineOption.strokeOpacity,visible:l.lineOption.visible}),i.map(e=>{u.Cd,l.circleOption.radius,l.circleOption.fillColor,l.circleOption.fillOpacity,l.circleOption.visible}),o.map(e=>{u.aH,l.arrowOption.strokeColor,l.arrowOption.strokeWeight,l.arrowOption.strokeOpacity,l.arrowOption.visible})]})}function d(){let e=(0,u.UL)(),[t,l]=(0,s.useState)(e.MapTypeId.NORMAL),[i,r]=(0,s.useState)(null),c=function(e){t!=e&&l(e)},d=(0,n.sJ)(o.mK),f=(0,s.useRef)(null),g=(0,n.sJ)(o.jM),m=(0,n.sJ)(o.Ep),x=(0,n.sJ)(o.GF),w=(0,n.sJ)(o.di);return(0,s.useEffect)(()=>{i&&i.setCenter(d)},[d]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u.EL,{mapTypeId:t,defaultCenter:new e.LatLng(d.lat,d.lng),ref:r,children:[g.map((t,l)=>t==m?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(h,{idf:t,navermaps:e,option:x[t]},t)),(0,a.jsx)(h,{idf:m,navermaps:e,option:w})]}),(0,a.jsx)("div",{ref:f,style:{width:"100%",height:"100%"}}),(0,a.jsxs)("div",{className:"flex absolute top-4 left-4",children:[(0,a.jsx)(p.Z,{className:"text-sm",color:t==e.MapTypeId.NORMAL?"primary":"primary_outline",clickEvent:()=>c(e.MapTypeId.NORMAL),value:"일반"}),(0,a.jsx)(p.Z,{className:"text-sm",color:t==e.MapTypeId.TERRAIN?"primary":"primary_outline",clickEvent:()=>c(e.MapTypeId.TERRAIN),value:"지형도"}),(0,a.jsx)(p.Z,{className:"text-sm",color:t==e.MapTypeId.SATELLITE?"primary":"primary_outline",clickEvent:()=>c(e.MapTypeId.SATELLITE),value:"위성"}),(0,a.jsx)(p.Z,{className:"text-sm",color:t==e.MapTypeId.HYBRID?"primary":"primary_outline",clickEvent:()=>c(e.MapTypeId.HYBRID),value:"혼합"})]})]})}var f=l(1163);function g(){let[e,t]=(0,s.useState)({}),l=(0,f.useRouter)(),h=(0,n.sJ)(c.P),[g,m]=(0,s.useState)("google"),x=(0,n.sJ)(o.c0),[w,M]=(0,s.useState)({strokeOpacity:0,fillOpacity:.4,clickable:!1,draggable:!1,editable:!1,visible:!0,radius:.8,zIndex:1,fillColor:"#00FF00"}),v=(0,n.sJ)(o.iR),[y,O]=(0,n.FV)(o.Y1),[I,N]=(0,n.FV)(o.jM),[b,j]=(0,n.FV)(o.GF),k=(0,n.sJ)(o.Kg),[E,T]=(0,n.FV)(o.kD),[L,_]=(0,n.FV)(o.Ep),[F,A]=(0,n.FV)(o.Nk),[C,R]=(0,n.FV)(o.di),[S,J]=(0,n.FV)(o.mK),[P,V]=(0,s.useState)(15),[Z,D]=(0,s.useState)(!1),[H,W]=(0,s.useState)(!1),K=function(e){let t=e.length,l=[];for(let a=1;a<t;a++){let s=e[a].lat*Math.PI/180,n=e[a-1].lat*Math.PI/180,i=e[a].lng*Math.PI/180,r=e[a-1].lng*Math.PI/180,o=Math.cos(n)*Math.sin(r-i),c=Math.cos(s)*Math.sin(n)-Math.sin(s)*Math.cos(n)*Math.cos(r-i);console.log(o,c);let p=Math.atan2(c,o),u=35*Math.PI/180,h=p+u,d=p-u,f=e[a].lat,g=e[a].lng,m=[{lat:f+1e-5*Math.sin(h),lng:g+1e-5*Math.cos(h)},{lat:f,lng:g},{lat:f+1e-5*Math.sin(d),lng:g+1e-5*Math.cos(d)}];l.push(m)}return l},Y=function(e){let t=e.replaceAll("["," ").replaceAll("]"," ").replaceAll("	"," ").replaceAll("\n"," ").replaceAll(","," ").replace(/^\s+|\s+$/g,"").replace(/ +/g," ").replaceAll(" ",","),l=t.split(",").map(Number),a=2*parseInt(l.length),s=[],n=0,i=1;Z&&(n=1,i=0);for(let r=0;r<a;r+=2){let o=l[r+n],c=l[r+i];if(H&&(o=parseInt(o/100)+o%100/60,c=parseInt(c/100)+c%100/60),!(1>Math.abs(o)||1>Math.abs(c))){if(!o||!c)break;s.push({lat:o,lng:c})}}return console.log(s),s};return(0,a.jsxs)("div",{className:"flex mx-2 gap-2",children:[(0,a.jsx)("div",{className:"bg-red-100 w-full h-screen",children:(0,a.jsx)(u.r9,{ncpClientId:"an7y5ntcz5",children:(0,a.jsx)(u.W2,{style:{width:"100%",height:"100%"},children:(0,a.jsx)(d,{})})})}),(0,a.jsx)(p.Z,{className:"absolute left-2 top-2",color:"primary_outline",clickEvent:()=>l.push("".concat(h,"/pathDrawer")),value:"google"}),(0,a.jsx)(p.Z,{className:"absolute left-2 top-8",color:"primary",clickEvent:()=>l.push("".concat(h,"/pathDrawer/naver")),value:"naver"}),(0,a.jsxs)("div",{className:" absolute top-32 left-4 flex flex-col gap-2 basis-1/5 max-w-[260px] min-w-[230px] bg-white p-2 rounded shadow-md",children:[(0,a.jsx)(i.Z,{className:"bg-gray-100 p-2 h-50 rounded",lngfirst:Z,setLngfirst:D,drawPath:function(e){let t={...k};e&&(t.path=Y(e),t.arrows=K(t.path),t.label=F||E,j({...b,[L]:C,[E]:t}),N([...I,E]),_(E),R(t),T(E+1),t.path&&J({lat:t.path[0].lat,lng:t.path[0].lng}))},focusOption:w,setFocusOption:M}),(0,a.jsx)(r.Z,{className:"rounded max-h-full bg-white",idfs:I,nowIdf:L,nowOption:C,setNowOption:R,delLine:function(){if(I.length>1){L!=I[0]&&_(I[0]),R(b[I[0]]);let e={...b};delete e[L],j(e),N(I.filter(e=>e!=L))}else _(-1),R({...x,path:[],arrows:[]}),N([]),j({})},focusCoordi:function(e,t){v&&(J({lat:e,lng:t}),O({lat:e,lng:t}))},clickCoordi:function(e,t){},changeNow:function(e){e!=L&&(j({...b,[L]:C}),_(e),R(b[e]))}})]})]})}}},function(e){e.O(0,[436,881,774,888,179],function(){return e(e.s=6023)}),_N_E=e.O()}]);