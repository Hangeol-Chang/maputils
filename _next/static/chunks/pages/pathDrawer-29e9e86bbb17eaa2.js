(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27],{7023:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pathDrawer",function(){return a(2028)}])},2028:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return f}});var l=a(5893),n=a(7054),s=a(7294),o=a(4480);function i(t){let{option:e}=t;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.dp,{path:e.path,options:e.lineOption}),e.path.map((t,a)=>(0,l.jsx)(n.VM,{center:t,options:e.circleOption},a)),e.arrows.map((t,a)=>(0,l.jsx)(n.dp,{path:t,options:e.arrowOption},a))]})}var r=a(9052),c=a(8009),p=a(8635),h=a(350),u=a(6655),g=a(1163);function f(){let[t,e]=(0,s.useState)({}),a=(0,g.useRouter)(),f=(0,o.sJ)(h.P),[d,w]=(0,s.useState)("google"),x=(0,o.sJ)(p.c0),[m,M]=(0,s.useState)({strokeOpacity:0,fillOpacity:.4,clickable:!1,draggable:!1,editable:!1,visible:!0,radius:.8,zIndex:1,fillColor:"#00FF00"}),b=(0,o.sJ)(p.iR),[j,N]=(0,o.FV)(p.Y1),[k,F]=(0,o.FV)(p.jM),[_,v]=(0,o.FV)(p.GF),I=(0,o.sJ)(p.Kg),[O,V]=(0,o.FV)(p.kD),[y,E]=(0,o.FV)(p.Ep),[P,S]=(0,o.FV)(p.Nk),[A,C]=(0,o.FV)(p.di),[J,Z]=(0,o.FV)(p.mK),[z,D]=(0,s.useState)(15),[K,L]=(0,s.useState)(!1),[T,X]=(0,s.useState)(!1),G=function(t){let e=t.length,a=[];for(let l=1;l<e;l++){let n=t[l].lat*Math.PI/180,s=t[l-1].lat*Math.PI/180,o=t[l].lng*Math.PI/180,i=t[l-1].lng*Math.PI/180,r=Math.cos(s)*Math.sin(i-o),c=Math.cos(n)*Math.sin(s)-Math.sin(n)*Math.cos(s)*Math.cos(i-o);console.log(r,c);let p=Math.atan2(c,r),h=35*Math.PI/180,u=p+h,g=p-h,f=t[l].lat,d=t[l].lng,w=[{lat:f+1e-5*Math.sin(u),lng:d+1e-5*Math.cos(u)},{lat:f,lng:d},{lat:f+1e-5*Math.sin(g),lng:d+1e-5*Math.cos(g)}];a.push(w)}return a},Q=function(t){let e=t.replaceAll("["," ").replaceAll("]"," ").replaceAll("	"," ").replaceAll("\n"," ").replaceAll(","," ").replace(/^\s+|\s+$/g,"").replace(/ +/g," ").replaceAll(" ",","),a=e.split(",").map(Number),l=2*parseInt(a.length),n=[],s=0,o=1;K&&(s=1,o=0);for(let i=0;i<l;i+=2){let r=a[i+s],c=a[i+o];if(T&&(r=parseInt(r/100)+r%100/60,c=parseInt(c/100)+c%100/60),!(1>Math.abs(r)||1>Math.abs(c))){if(!r||!c)break;n.push({lat:r,lng:c})}}return console.log(n),n};return(0,l.jsxs)("div",{className:"flex mx-2 gap-2",children:[(0,l.jsx)("div",{className:"bg-red-100 w-full h-screen",children:(0,l.jsx)(n.KJ,{googleMapsApiKey:"AIzaSyBkZS2y5XLGTz09p372w0MV4bQgeukEiiQ",children:(0,l.jsxs)(n.b6,{mapContainerStyle:{width:"100%",height:"100%"},center:J,zoom:z,children:[k.map((t,e)=>t==y?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)(i,{option:_[t]},e)),(0,l.jsx)(i,{option:A}),(0,l.jsx)(n.VM,{center:j,options:m})]})})}),(0,l.jsx)(u.Z,{className:"absolute left-2 top-2",color:"primary",clickEvent:()=>a.push("".concat(f,"/pathDrawer")),value:"google"}),(0,l.jsx)(u.Z,{className:"absolute left-2 top-8",color:"primary_outline",clickEvent:()=>a.push("".concat(f,"/pathDrawer/naver")),value:"naver_"}),(0,l.jsxs)("div",{className:" absolute top-32 left-4 flex flex-col gap-2 basis-1/5 max-w-[260px] min-w-[230px] bg-white p-2 rounded shadow-md",children:[(0,l.jsx)(r.Z,{className:"bg-gray-100 p-2 h-50 rounded",lngfirst:K,setLngfirst:L,drawPath:function(t){let e={...I};t&&(e.path=Q(t),e.arrows=G(e.path),e.label=P||O,v({..._,[y]:A,[O]:e}),F([...k,O]),E(O),C(e),V(O+1),e.path&&Z({lat:e.path[0].lat,lng:e.path[0].lng}))},focusOption:m,setFocusOption:M}),(0,l.jsx)(c.Z,{className:"rounded max-h-full bg-white",idfs:k,nowIdf:y,nowOption:A,setNowOption:C,delLine:function(){if(k.length>1){y!=k[0]&&E(k[0]),C(_[k[0]]);let t={..._};delete t[y],v(t),F(k.filter(t=>t!=y))}else E(-1),C({...x,path:[],arrows:[]}),F([]),v({})},focusCoordi:function(t,e){b&&(Z({lat:t,lng:e}),N({lat:t,lng:e}))},clickCoordi:function(t,e){Z({lat:t,lng:e}),N({lat:t,lng:e})},changeNow:function(t){t!=y&&(v({..._,[y]:A}),E(t),C(_[t]))}})]})]})}}},function(t){t.O(0,[255,881,774,888,179],function(){return t(t.s=7023)}),_N_E=t.O()}]);