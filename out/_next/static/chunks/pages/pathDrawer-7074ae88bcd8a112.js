(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27],{7023:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pathDrawer",function(){return a(850)}])},850:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var l=a(5893),n=a(7054),s=a(7294),o=a(4480),i=a(5528),r=a(9052),c=a(8009),p=a(8635),h=a(350),u=a(6655);a(5277),a(436);var g=a(1163);function f(){let[e,t]=(0,s.useState)({}),a=(0,g.useRouter)(),f=(0,o.sJ)(h.P),[d,w]=(0,s.useState)("google"),M=(0,o.sJ)(p.c0),[x,b]=(0,s.useState)({strokeOpacity:0,fillOpacity:.4,clickable:!1,draggable:!1,editable:!1,visible:!0,radius:.8,zIndex:1,fillColor:"#00FF00"}),m=(0,o.sJ)(p.iR),[N,j]=(0,o.FV)(p.Y1),[k,_]=(0,o.FV)(p.jM),[F,v]=(0,o.FV)(p.GF),I=(0,o.sJ)(p.Kg),[V,y]=(0,o.FV)(p.kD),[E,P]=(0,o.FV)(p.Ep),[S,A]=(0,o.FV)(p.Nk),[O,Z]=(0,o.FV)(p.di),[C,J]=(0,o.FV)(p.mK),[z,D]=(0,s.useState)(15),[K,L]=(0,s.useState)(!1),[T,X]=(0,s.useState)(!1),G=function(e){let t=e.length,a=[];for(let l=1;l<t;l++){let n=e[l].lat*Math.PI/180,s=e[l-1].lat*Math.PI/180,o=e[l].lng*Math.PI/180,i=e[l-1].lng*Math.PI/180,r=Math.cos(s)*Math.sin(i-o),c=Math.cos(n)*Math.sin(s)-Math.sin(n)*Math.cos(s)*Math.cos(i-o);console.log(r,c);let p=Math.atan2(c,r),h=35*Math.PI/180,u=p+h,g=p-h,f=e[l].lat,d=e[l].lng,w=[{lat:f+1e-5*Math.sin(u),lng:d+1e-5*Math.cos(u)},{lat:f,lng:d},{lat:f+1e-5*Math.sin(g),lng:d+1e-5*Math.cos(g)}];a.push(w)}return a},Q=function(e){let t=e.replaceAll("["," ").replaceAll("]"," ").replaceAll("	"," ").replaceAll("\n"," ").replaceAll(","," ").replace(/^\s+|\s+$/g,"").replace(/ +/g," ").replaceAll(" ",","),a=t.split(",").map(Number),l=2*parseInt(a.length),n=[],s=0,o=1;K&&(s=1,o=0);for(let i=0;i<l;i+=2){let r=a[i+s],c=a[i+o];if(T&&(r=parseInt(r/100)+r%100/60,c=parseInt(c/100)+c%100/60),!(1>Math.abs(r)||1>Math.abs(c))){if(!r||!c)break;n.push({lat:r,lng:c})}}return console.log(n),n};return(0,l.jsxs)("div",{className:"flex mx-2 gap-2",children:[(0,l.jsx)("div",{className:"bg-red-100 w-full h-screen",children:(0,l.jsx)(n.KJ,{googleMapsApiKey:"AIzaSyBkZS2y5XLGTz09p372w0MV4bQgeukEiiQ",children:(0,l.jsxs)(n.b6,{mapContainerStyle:{width:"100%",height:"100%"},center:C,zoom:z,children:[k.map((e,t)=>e==E?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)(i.Z,{option:F[e]},t)),(0,l.jsx)(i.Z,{option:O}),(0,l.jsx)(n.VM,{center:N,options:x})]})})}),(0,l.jsx)(u.Z,{className:"absolute left-2 top-2",color:"primary",clickEvent:()=>a.push("".concat(f,"/pathDrawer")),value:"google"}),(0,l.jsx)(u.Z,{className:"absolute left-2 top-8",color:"primary_outline",clickEvent:()=>a.push("".concat(f,"/pathDrawer/naver")),value:"naver_"}),(0,l.jsxs)("div",{className:" absolute top-32 left-4 flex flex-col gap-2 basis-1/5 max-w-[260px] min-w-[230px] bg-white p-2 rounded shadow-md",children:[(0,l.jsx)(r.Z,{className:"bg-gray-100 p-2 h-50 rounded",lngfirst:K,setLngfirst:L,drawPath:function(e){let t={...I};e&&(t.path=Q(e),t.arrows=G(t.path),t.label=S||V,v({...F,[E]:O,[V]:t}),_([...k,V]),P(V),Z(t),y(V+1),t.path&&J({lat:t.path[0].lat,lng:t.path[0].lng}))},focusOption:x,setFocusOption:b}),(0,l.jsx)(c.Z,{className:"rounded max-h-full bg-white",idfs:k,nowIdf:E,nowOption:O,setNowOption:Z,delLine:function(){if(k.length>1){E!=k[0]&&P(k[0]),Z(F[k[0]]);let e={...F};delete e[E],v(e),_(k.filter(e=>e!=E))}else P(-1),Z({...M,path:[],arrows:[]}),_([]),v({})},focusCoordi:function(e,t){m&&(J({lat:e,lng:t}),j({lat:e,lng:t}))},clickCoordi:function(e,t){J({lat:e,lng:t}),j({lat:e,lng:t})},changeNow:function(e){e!=E&&(v({...F,[E]:O}),P(e),Z(F[e]))}})]})]})}}},function(e){e.O(0,[255,436,870,774,888,179],function(){return e(e.s=7023)}),_N_E=e.O()}]);