(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27],{7023:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pathDrawer",function(){return t(8289)}])},8289:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return x}});var n=t(5893),s=t(7054),a=t(7294);function i(e){let{option:l}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.dp,{path:l.path,options:l.lineOption}),l.path.map((e,t)=>(0,n.jsx)(s.VM,{center:e,options:l.circleOption},t))]})}var r=t(6655);function c(e){let{className:l,drawPath:t,lngfirst:s,setLngfirst:i}=e,[c,o]=(0,a.useState)("");return(0,n.jsxs)("div",{className:"\n            ".concat(l,"\n        "),children:[(0,n.jsx)("textarea",{className:"w-full outline outline-1 rounded outline-blue-200",rows:"4",value:c,onChange:e=>o(e.target.value)}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"checkbox",id:"hhmmddd",className:"mr-1"}),(0,n.jsx)("label",{for:"hhmmddd",children:"hmd"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"checkbox",id:"lngf",className:"mr-1",defaultValue:s,onChange:e=>i(e.target.value)}),(0,n.jsx)("label",{for:"lngf",children:"lng first"})]}),(0,n.jsx)(r.Z,{color:"primary_outline",clickEvent:e=>t(c),value:"draw path"})]})]})}function o(e){let{color:l="red",value:t=0,changeColor:s}=e,[i,r]=(0,a.useState)(t);return(0,a.useEffect)(()=>{r(t)},[t]),(0,n.jsx)("div",{className:"flex align-contents-center",children:(0,n.jsx)("input",{id:"slider",type:"range",value:i,onChange:e=>r(e.target.value),onPointerUp:e=>s(e.target.value,l),className:"w-full cursor-pointer accent- ".concat(l,"-400"),max:255,min:0})})}function d(e){let{option:l,delLine:t,setNowOption:s,nowIdf:i}=e,[c,d]=(0,a.useState)(1),[u,h]=(0,a.useState)(l.circleOption),[p,x]=(0,a.useState)(l.lineOption),[g,f]=(0,a.useState)(!0),[m,j]=(0,a.useState)(!0),b=function(e,t){let n=l.circleOption.fillColor,s=("0"+parseInt(e).toString(16)).slice(-2),a=-1;a="red"==t?1:"green"==t?3:5;let i=n.substring(0,a)+s+n.substring(a+2);h({...u,fillColor:i,[t]:parseInt(e)})},v=function(e,t){let n=l.lineOption.strokeColor,s=("0"+parseInt(e).toString(16)).substr(-2),a=-1;a="red"==t?1:"green"==t?3:5;let i=n.substring(0,a)+s+n.substring(a+2);x({...p,strokeColor:i,[t]:parseInt(e)})},w=function(e){f(e),x({...p,visible:e})},N=function(e){j(e),h({...u,visible:e})};return(0,a.useEffect)(()=>{s({...l,lineOption:p,circleOption:u})},[p,u]),(0,a.useEffect)(()=>{console.log(i),x(l.lineOption),h(l.circleOption),f(l.lineOption.visible),j(l.circleOption.visible),console.log(l)},[i]),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("input",{id:"slider",type:"range",defaultValue:1,onPointerUp(e){var l;return l=e.target.value,void h({...u,radius:parseFloat(l)})},className:"w-full cursor-pointer accent-gray-400",max:2,min:0,step:.1}),(0,n.jsx)(r.Z,{color:"primary_outline",value:"del",clickEvent:t})]}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{className:"w-1/3",children:"Circle_C"}),(0,n.jsx)(o,{color:"red",value:u.red,changeColor:b}),(0,n.jsx)(o,{color:"green",value:u.green,changeColor:b}),(0,n.jsx)(o,{color:"blue",value:u.blue,changeColor:b})]}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{className:"w-1/3",children:"Line_C"}),(0,n.jsx)(o,{color:"red",value:p.red,changeColor:v}),(0,n.jsx)(o,{color:"green",value:p.green,changeColor:v}),(0,n.jsx)(o,{color:"blue",value:p.blue,changeColor:v})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"checkbox",id:"viewLine",checked:g,onClick:e=>w(e.target.checked),className:"mr-1"}),(0,n.jsx)("label",{for:"viewLine",children:"Line"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"checkbox",id:"viewMarker",checked:m,onClick:e=>N(e.target.checked),className:"mr-1"}),(0,n.jsx)("label",{for:"viewMarker",children:"Marker"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"checkbox",id:"viewArrow",className:"mr-1"}),(0,n.jsx)("label",{for:"viewArrow",children:"Arrow"})]})]})]})}function u(e){let{path:l,focusCoordi:t}=e,s=function(e,l){t(e,l)},[i,r]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{r(!0)},[]),i?(0,n.jsx)("table",{className:"w-full",children:(0,n.jsx)("tbody",{children:l.map((e,l)=>{let{lat:t,lng:a}=e;return(0,n.jsxs)("tr",{onPointerEnter:()=>s(t,a),className:"text-center hover:bg-gray-200",children:[(0,n.jsx)("td",{className:"w-1/5 bg-gray-600 text-white outline outline-1",children:l}),(0,n.jsx)("td",{className:"w-2/5 px-1",children:t}),(0,n.jsx)("td",{className:"w-2/5",children:a})]},l)})})}):(0,n.jsx)(n.Fragment,{})}function h(e){let{idf:l,now:t,changeNow:s}=e,[i,r]=(0,a.useState)("");return(0,a.useEffect)(()=>{l==t?r("\n                bg-white\n                text-black\n                shadow-md\n            "):r("\n            bg-gray-200\n            text-gray-600\n        ")},[t]),(0,n.jsx)("div",{className:"\n            ".concat(i,"\n            w-1/5 h-8 text-center align-middle\n            cursor-pointer\n        "),onClick:()=>s(l),children:l})}function p(e){let{className:l,idfs:t,nowIdf:s,nowOption:a,focusCoordi:i,changeNow:r,setNowOption:c,delLine:o}=e;return(0,n.jsxs)("div",{className:"\n            ".concat(l,"\n            \n        "),children:[(0,n.jsx)("div",{className:"flex gap-1 justify-items-center shadow",children:t.map((e,l)=>(0,n.jsx)(h,{idf:e,now:s,changeNow:r},l))}),(0,n.jsx)(d,{option:a,setNowOption:c,delLine:o,nowIdf:s}),(0,n.jsx)("hr",{className:"mx-1 my-4"}),(0,n.jsx)("div",{className:"max-h-[700px] overflow-auto",children:(0,n.jsx)(u,{path:a.path,focusCoordi:i})})]})}function x(){let[e,l]=(0,a.useState)({}),t={path:[{lat:37.500142,lng:127.026444},{lat:37.498578,lng:127.027175},{lat:37.498282,lng:127.027248}],viewArrow:!0,lineOption:{strokeOpacity:.8,strokeWeight:2,clickable:!1,draggable:!1,editable:!1,visible:!0,zIndex:1,strokeColor:"#0000FF",red:0,green:0,blue:255},circleOption:{strokeOpacity:0,fillOpacity:.4,clickable:!1,draggable:!1,editable:!1,visible:!0,radius:1,zIndex:1,fillColor:"#FF0000",red:255,green:0,blue:0}},[r,o]=(0,a.useState)([0,1,2]),[d,u]=(0,a.useState)(3),[h,x]=(0,a.useState)({0:t,1:t,2:t}),[g,f]=(0,a.useState)(0),[m,j]=(0,a.useState)(h[0]),[b,v]=(0,a.useState)({lat:37.498578,lng:127.027175}),[w,N]=(0,a.useState)(15),[k,y]=(0,a.useState)(!1),[C,O]=(0,a.useState)(!1),S=function(e){let l=e.replaceAll("[","").replaceAll("]","").replaceAll(" ","").replaceAll("	",",").replaceAll("\n",","),t=l.split(",").map(Number);console.log(t);let n=2*parseInt(t.length),s=[],a=0,i=1;k&&(a=1,i=0);for(let r=0;r<n;r+=2){let c=t[r+a],o=t[r+i];if(console.log(c+" "+o),C&&(c=parseInt(c/100)+c%100/60,o=parseInt(o/100)+o%100/60),!(1>Math.abs(c)||1>Math.abs(o))){if(!c||!o)break;s.push({lat:c,lng:o})}}return s};return(0,n.jsxs)("div",{className:"flex mx-2 gap-2",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-2 basis-1/5 max-w-[260px]",children:[(0,n.jsx)(c,{className:"bg-gray-100 p-2 h-44 rounded shadow-md",lngfirst:k,setLngfirst:y,drawPath:function(e){let l=t;l.path=S(e),x({...h,[d]:l}),o([...r,d]),f(d),j(l),u(d+1),console.log(l),l.path&&v({lat:l.path[0].lat,lng:l.path[0].lng})}}),(0,n.jsx)(p,{className:"rounded max-h-full shadow-md",idfs:r,nowIdf:g,nowOption:m,setNowOption:j,delLine:function(){j({path:[],hmd:!1,viewArrow:!1,lngfirst:!1,lineOption:{strokeOpacity:.8,strokeWeight:2,clickable:!1,draggable:!1,editable:!1,visible:!0,zIndex:1,strokeColor:"#000",red:0,green:0,blue:0},circleOption:{strokeOpacity:0,fillOpacity:.4,clickable:!1,draggable:!1,editable:!1,visible:!0,radius:1,zIndex:1,fillColor:"#000",red:0,green:0,blue:0}}),o(r.filter(e=>e!=g)),f(-1)},changeOption:function(){console.log("change now Option")},focusCoordi:function(e,l){v({lat:e,lng:l})},changeNow:function(e){e!=g&&(x({...h,[g]:m}),f(e),j(h[e]))}})]}),(0,n.jsx)("div",{className:"bg-red-100 basis-4/5 h-screen",children:(0,n.jsx)(s.KJ,{googleMapsApiKey:"AIzaSyBkZS2y5XLGTz09p372w0MV4bQgeukEiiQ",children:(0,n.jsxs)(s.b6,{mapContainerStyle:{width:"100%",height:"100%"},center:b,zoom:w,children:[r.map((e,l)=>e==g?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(i,{option:h[e]},l)),(0,n.jsx)(i,{option:m})]})})})]})}}},function(e){e.O(0,[255,774,888,179],function(){return e(e.s=7023)}),_N_E=e.O()}]);